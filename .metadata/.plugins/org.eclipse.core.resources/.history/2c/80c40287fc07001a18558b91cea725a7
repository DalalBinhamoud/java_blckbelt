<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Tasks</title>
</head>
<body>
<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>  

<h1>  Welcome, <c:out value="${user.name}"/></h1>

<p>
<p><a href="/tasks/Asc" > Priority High-Low</a></p>
<p><a href="/tasks/Dsc" > Priority Low-High</a></p>
<a href="/logout" > Logout</a>
</p>

<div class="container">
<div class="table-responsive">
    <table class="table-responsive table-bordered">
<th>Task</th>
<th>Creator</th>
<th>Assignee</th>
<th>Priority</th>


 <c:forEach items="${tasks}" var="task">
     <tr>
     <td> <a href="/tasks/${task.id}"><c:out value="${task.title}"/></a></td>
     <td><c:out value="${task.creator}"/></td>
     <td><c:out value="${task.user.getName()}"/></td>
     
     <c:if test = "${task.priority == 'a'}">
     <td>High</td>
      </c:if>
      
      <c:if test = "${task.priority == 'b'}">
     <td>Medium</td>
      </c:if>
      <c:if test = "${task.priority == 'c'}">
     <td>Low</td>
      </c:if>
     </tr>
        </c:forEach>

</table> 
</div></div>
<a href="/tasks/new"> Create Task</a>
</body>
</html>